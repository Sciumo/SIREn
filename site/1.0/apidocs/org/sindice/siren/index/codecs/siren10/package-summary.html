<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Tue Feb 11 13:10:36 GMT 2014 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>org.sindice.siren.index.codecs.siren10 (siren-aggregator 1.0 API)</title>
<meta name="date" content="2014-02-11">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.sindice.siren.index.codecs.siren10 (siren-aggregator 1.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/sindice/siren/index/codecs/block/package-summary.html">Prev Package</a></li>
<li><a href="../../../../../../org/sindice/siren/qparser/json/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/sindice/siren/index/codecs/siren10/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.sindice.siren.index.codecs.siren10</h1>
<div class="docSummary">
<div class="block">Implementation of the encoding and decoding of the block-based
 postings format for SIREn 1.0.</div>
</div>
<p>See:&nbsp;<a href="#package_description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="packageSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/DocsFreqBlockIndexInput.html" title="class in org.sindice.siren.index.codecs.siren10">DocsFreqBlockIndexInput</a></td>
<td class="colLast">
<div class="block">Implementation of the <a href="../../../../../../org/sindice/siren/index/codecs/block/BlockIndexInput.html" title="class in org.sindice.siren.index.codecs.block"><code>BlockIndexInput</code></a> for the .doc file of the SIREn
 postings format.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/DocsFreqBlockIndexOutput.html" title="class in org.sindice.siren.index.codecs.siren10">DocsFreqBlockIndexOutput</a></td>
<td class="colLast">
<div class="block">Implementation of the <a href="../../../../../../org/sindice/siren/index/codecs/block/BlockIndexOutput.html" title="class in org.sindice.siren.index.codecs.block"><code>BlockIndexOutput</code></a> for the .doc file of the SIREn
 postings format.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/NodBlockIndexInput.html" title="class in org.sindice.siren.index.codecs.siren10">NodBlockIndexInput</a></td>
<td class="colLast">
<div class="block">Implementation of the <a href="../../../../../../org/sindice/siren/index/codecs/block/BlockIndexInput.html" title="class in org.sindice.siren.index.codecs.block"><code>BlockIndexInput</code></a> for the .nod file of the SIREn
 postings format.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/NodBlockIndexOutput.html" title="class in org.sindice.siren.index.codecs.siren10">NodBlockIndexOutput</a></td>
<td class="colLast">
<div class="block">Implementation of the <a href="../../../../../../org/sindice/siren/index/codecs/block/BlockIndexOutput.html" title="class in org.sindice.siren.index.codecs.block"><code>BlockIndexOutput</code></a> for the .nod file of the SIREn
 postings format.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/PosBlockIndexInput.html" title="class in org.sindice.siren.index.codecs.siren10">PosBlockIndexInput</a></td>
<td class="colLast">
<div class="block">Implementation of the <a href="../../../../../../org/sindice/siren/index/codecs/block/BlockIndexInput.html" title="class in org.sindice.siren.index.codecs.block"><code>BlockIndexInput</code></a> for the .pos file of the SIREn
 postings format.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/PosBlockIndexOutput.html" title="class in org.sindice.siren.index.codecs.siren10">PosBlockIndexOutput</a></td>
<td class="colLast">
<div class="block">Implementation of the <a href="../../../../../../org/sindice/siren/index/codecs/block/BlockIndexOutput.html" title="class in org.sindice.siren.index.codecs.block"><code>BlockIndexOutput</code></a> for the .pos file of the SIREn
 postings format.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/Siren10AForPostingsFormat.html" title="class in org.sindice.siren.index.codecs.siren10">Siren10AForPostingsFormat</a></td>
<td class="colLast">
<div class="block">Implementation of the <a href="../../../../../../org/sindice/siren/index/codecs/siren10/Siren10PostingsFormat.html" title="class in org.sindice.siren.index.codecs.siren10"><code>Siren10PostingsFormat</code></a> based on AFOR.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/Siren10BlockStreamFactory.html" title="class in org.sindice.siren.index.codecs.siren10">Siren10BlockStreamFactory</a></td>
<td class="colLast">
<div class="block">This class creates <a href="../../../../../../org/sindice/siren/index/codecs/block/BlockIndexOutput.html" title="class in org.sindice.siren.index.codecs.block"><code>BlockIndexOutput</code></a> and <a href="../../../../../../org/sindice/siren/index/codecs/block/BlockIndexInput.html" title="class in org.sindice.siren.index.codecs.block"><code>BlockIndexInput</code></a>
 for the SIREn 1.0 postings format.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/Siren10PostingsFormat.html" title="class in org.sindice.siren.index.codecs.siren10">Siren10PostingsFormat</a></td>
<td class="colLast">
<div class="block">Abstraction over the SIREn 1.0 postings format.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/Siren10PostingsReader.html" title="class in org.sindice.siren.index.codecs.siren10">Siren10PostingsReader</a></td>
<td class="colLast">
<div class="block">Reads the document identifiers, node frequencies, node labels, term
 frequencies, term positions and block skip data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/Siren10PostingsWriter.html" title="class in org.sindice.siren.index.codecs.siren10">Siren10PostingsWriter</a></td>
<td class="colLast">
<div class="block">Writes the document identifiers, node frequencies, node labels, term
 frequencies, term positions and block skip data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/Siren10SkipListReader.html" title="class in org.sindice.siren.index.codecs.siren10">Siren10SkipListReader</a></td>
<td class="colLast">
<div class="block">Implementation of the <code>MultiLevelSkipListReader</code> for the default
 block-based posting list format of SIREn 1.0.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/Siren10SkipListWriter.html" title="class in org.sindice.siren.index.codecs.siren10">Siren10SkipListWriter</a></td>
<td class="colLast">
<div class="block">Implementation of the <code>MultiLevelSkipListWriter</code> for the default
 block-based posting list format of SIREn 1.0.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../../../org/sindice/siren/index/codecs/siren10/Siren10VIntPostingsFormat.html" title="class in org.sindice.siren.index.codecs.siren10">Siren10VIntPostingsFormat</a></td>
<td class="colLast">
<div class="block">Implementation of the <a href="../../../../../../org/sindice/siren/index/codecs/siren10/Siren10PostingsFormat.html" title="class in org.sindice.siren.index.codecs.siren10"><code>Siren10PostingsFormat</code></a> based on VInt.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package_description">
<!--   -->
</a>
<h2 title="Package org.sindice.siren.index.codecs.siren10 Description">Package org.sindice.siren.index.codecs.siren10 Description</h2>
<div class="block">Implementation of the encoding and decoding of the block-based
 postings format for SIREn 1.0.

 <h2>Introduction</h2>

 This package contains the implementation of the encoding and decoding of the
 SIREn 1.0 block-based postings format. This postings format is compatible
 with the Lucene 4.0 codec. For an introduction to Lucene 4.0 codec API, see
 the <code>org.apache.lucene.codecs.lucene40</code> package documentation.

 <h2>SIREn 1.0 Postings Format</h2>

 The SIREn 1.0 postings format is organised around four files:
 <ul>
   <li> The .doc file contains the document identifiers and node frequencies;
   <li> The .nod file contains the node labels and the term frequencies;
   <li> The .pos file contains the term positions;
   <li> The .skp file contains the skip data.
 </ul>

 The SIREn 1.0 postings format is divided into multiple blocks. The default
 block size is defined by
 <a href="../../../../../../org/sindice/siren/index/codecs/siren10/Siren10PostingsFormat.html#DEFAULT_POSTINGS_BLOCK_SIZE"><code>Siren10PostingsFormat.DEFAULT_POSTINGS_BLOCK_SIZE</code></a>.

 <h3>Documents and Node Frequencies</h3>

 The .doc file contains a list of document identifiers for each
 term along with the node frequency of the term in that document. The
 document identifiers are ordered by increasing number.

 <p>

 The file contains one postings lists for each term. The term is implicit
 and the position of the start of the postings list for a term is provided
 by the term dictionary.

 <p>

 One postings list is organised by block. Each block has a maximum size which
 determines the maximum number of document identifiers it can contain. It is
 possible that one block contain less document identifiers than its maximum
 size. For example, if a postings list contain only one document identifier,
 the size of the block will be one.

 The block format follows the schema:
 <pre>
   Block  = Header, CompressedDoc, CompressedNodeFreq
   Header = BlockSize,
            CompressedDocSize, CompressedNodeFreqSize,
            FirstDocId, LastDocId,
            NodeBlockPointer, PosBlockPointer
   CompressedDoc      = [DeltaDocId]
   CompressedNodeFreq = [NodeFreq]
 </pre>

 <b>BlockSize</b> records the size of the block, i.e., the number of document
 identifiers.
 <p>
 <b>CompressedDocLength</b> records the size (in bytes) of the compressed byte
 array CompressedDoc.
 <p>
 <b>CompressedNodeFreqLength</b> records the size (in bytes) of the compressed
 byte array CompressedNodeFreq.
 <p>
 <b>FirstDocId</b> and <b>LastDocId</b> records the first and last document identifiers
 of the block. This information is used by the skip list algorithm. The
 LastDocId is encoded as delta between the FirstDocId.
 <p>
 <b>NodeBlockPointer</b> records the pointer of the node block in the .nod file that
 is associated to this block.
 <p>
 <b>PosBlockPointer</b> records the pointer of the position block in the .pos file
 that is associated to this block.
 <p>
 <b>CompressedDoc</b> is the compressed list of document identifiers. This list is
 compressed using the AFOR algorithm. The document identifiers are encoded
 as delta. The first document of this list is always 0 as it is encoded as
 delta with FirstDocId.
 <p>
 <b>CompressedNodeFreq</b> is the compressed list of node frequencies. This list is
 compressed using the AFOR algorithm. There is one node frequency per document
 identifier. The node frequency is encoded with a decrement of 1 to optimise
 AFOR compression: it gives a higher chance to get smaller bit frames.

 <h3>Node Labels and Term Frequencies</h3>

 The .nod file contains a list of node labels for each
 document along with the length of each node labels, and the frequency of the
 term for each node. The node labels are ordered by increasing dewey codes.

 <p>

 The file is organised by block. Each block is synchronised with a .doc block,
 i.e., a single block contains all the node labels for the complete set of
 document identifiers contained in the .doc block. A block has a variable size
 which is determined by the number of node labels associated with the
 documents. Synchronising blocks across files simplifies encoding and decoding
 instructions and improves the performance.

 <p>

 The block format follows the schema:
 <pre>
   Block  = Header, CompressedNodeLength, CompressedNode, CompressedTermFreq
   Header = NodeLengthBlockSize, NodeBlockSize, TermFreqBlockSize,
            CompressedNodeLengthSize, CompressedNodeSize, CompressedTermFreqSize
   CompressedNodeLength = [NodeLength]
   CompressedNode       = [DeltaNode]
   CompressedTermFreq   = [TermFreq]
 </pre>

 <b>NodeLengthBlockSize</b> records the size of the block of the node lengths,
 i.e., the number of node lengths.
 <p>
 <b>NodeBlockSize</b> records the size of the node block, i.e., the number of
 integers composing the node labels.
 <p>
 <b>TermFreqBlockSize</b> records the size of the term frequency block, i.e.,
 the number of term frequencies.
 <p>
 <b>CompressedNodeLengthSize</b> records the size (in bytes) of the compressed
 byte array CompressedNodeLength.
 <p>
 <b>CompressedNodeSize</b> records the size (in bytes) of the compressed
 byte array CompressedNode.
 <p>
 <b>CompressedTermFreqSize</b> records the size (in bytes) of the compressed
 byte array CompressedTermFreq.
 <p>
 <b>CompressedNodeLength</b> is the compressed list of node lengths. Since
 each node label can have a different length, the node length records the
 number of integers that composes a node label. This list
 is compressed using the AFOR algorithm. The node frequency is encoded with a
 decrement of 1 to optimise AFOR compression: it gives a higher chance to get
 smaller bit frames.
 <p>
 <b>CompressedNode</b> is the compressed list of node labels. This list is
 compressed using the AFOR algorithm. The node labels relative to a document
 are encoded as delta.
 <p>
 <b>CompressedTermFreq</b> is the compressed list of term frequencies. This list is
 compressed using the AFOR algorithm. There is one term frequency per node
 label. The node frequency is encoded with a decrement of 1 to optimise
 AFOR compression: it gives a higher chance to get smaller bit frames.

 <h3>Term Positions</h3>

 The .pos file contains the list of term positions within nodes. The term
 positions are ordered by increasing number.

 <p>

 The file is organised by block. Each block is synchronised with a .nod block,
 i.e., a single block contains all the term positions for the complete set of
 node labels contained in the .nod block. A block has a variable size
 which is determined by the number of term positions associated with the
 nodes. Synchronising blocks across files simplifies encoding and decoding
 instructions and improves the performance.

 <p>

 The block format follows the schema:
 <pre>
   Block  = Header, CompressedTermPos
   Header = TermPosBlockSize,
            CompressedTermPosSize
   CompressedTermPos  = [DeltaTermPos]
 </pre>

 <b>TermPosBlockSize</b> records the size of the term position block, i.e.,
 the number of term positions.
 <p>
 <b>CompressedTermPosSize</b> records the size (in bytes) of the compressed
 byte array CompressedTermPos.
 <p>
 <b>CompressedTermPos</b> is the compressed list of term positions. This list
 is compressed using the AFOR algorithm. There is one or more term positions
 per node. The number of term positions per node is provided by the .nod block
 with the term frequency information. The term positions relative to a node
 are encoded as delta.

 <h3>Skip Lists</h3>

 The .skp file contains the skip data. The structure of the skip table
 is quite similar to Lucene40PostingsFormat. However, the skip data is defined
 around the concept of block instead of document. The skip interval defines
 the number of blocks between each skip data. The default skip interval is
 defined by
 <a href="../../../../../../org/sindice/siren/index/codecs/siren10/Siren10PostingsFormat.html#DEFAULT_POSTINGS_BLOCK_SIZE"><code>Siren10PostingsFormat.DEFAULT_POSTINGS_BLOCK_SIZE</code></a>.
 Each skip entry points to the beginning of one block.

 <p>

 In contrast to the Lucene skip lists, part of the skip data is inlined within
 the .doc file. The pointers to the .nod block and .pos block associated to
 the .doc block are encoded in the header of the .doc file by NodeBlockPointer
 and PosBlockPointer.

 <p>

 For more information about our skip table approach over blocks, please refer
 to the publication <a href="http://dx.doi.org/10.1007/978-3-642-20161-5_55">
 SkipBlock: Self-indexing for Block-Based Inverted List</a>.

 <h2>Interaction with the Postings List</h2>

 The reading of the SIREn 1.0 postings format relies on the lazy-loading
 approach. Any information, e.g., term positions, term frequencies,
 node labels and node frequencies, that are not requested explicitly are (1)
 never decoded, and (2) not read from disk whenever possible.</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/sindice/siren/index/codecs/block/package-summary.html">Prev Package</a></li>
<li><a href="../../../../../../org/sindice/siren/qparser/json/package-summary.html">Next Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/sindice/siren/index/codecs/siren10/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2014. All rights reserved.</small></p>
</body>
</html>
